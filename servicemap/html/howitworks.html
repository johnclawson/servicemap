<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	
	<title>Service Dependency Map</title>
	<meta name="description" content="Description about your department. This text displays in the Google search results." />
	<meta name="author" content="Your Department Name" />
	<meta name="keywords" content="keyword 1, keyword 2, keyword 3">
	
	<meta name="viewport" content="width=device-width" />
	
	<link rel="stylesheet" href="template/css/style.css" />
	<link rel="stylesheet" href="template/css/application.css" />
    

	<script src="template/js/libs/modernizr-2.0-basic.min.js"></script>
    
    <!-- JS links and CSS for dataTables and JQuery -->    
    <script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.5/css/jquery.dataTables.css" />
	<script src="https://cdn.datatables.net/1.10.5/js/jquery.dataTables.min.js"></script>


	<script>!window.jQuery && document.write(unescape('%3Cscript src="template/js/libs/jquery.min.js"%3E%3C/script%3E'))</script>
	<!-- Insert plugin stylesheets here -->

    <style>

        li {
            margin: 10px 0;
        }

        path.link {
          fill: none;
          stroke: #666;
          stroke-width: 1.5px;
        }

        circle {
          fill: #ccc;
          stroke: #fff;
          stroke-width: 1.5px;
        }

        text {
          fill: #000;
          font: 10px sans-serif;
          pointer-events: none;
        }

</style>


		
</head>

<body>
	<header id="main-header">
		<div id="header-top" class="wrapper">
			<div id="logo">
				<a href="https://www.byu.edu/" class="byu"><img src="template/img/byu-logo.gif" alt="BYU Logo" /></a>
			</div>
		
			<!-- Use this if you want to include the parent organization after the logo instead of using 'Brigham Young University'
			<a href="https://www.byu.edu/" class="byu"><img src="template/img/byu-logo-small.gif" alt="BYU Logo" /></a> <a href="" id="college">Parent Organization</a> -->
		
		<!-- 
	<div id="search-container">
				<a href="https://home.byu.edu/home/cas" class="button">Login</a>	
				<!~~ SEARCH - set up with GSA default; change URL in action if you want to use different product ~~>
				<form method="get" action="https://gurgle2.byu.edu/search"> 
					<!~~ Change placeholder text to be specific for your implementation ~~>
					<!~~ <input type="text" name="q" id="search" placeholder="Search Application" /> ~~>
					<!~~ <input type="image" src="template/img/search-button.png" alt="Search" id="search-button"/> ~~>
					<!~~ Uncomment next line and insert your custom collection name ~~>
					<!~~ input type="hidden" name="site" value="default_collection_name" ~~>
					<!~~ Insert your custom frontend name in place of default in next line ~~>
					<input type="hidden" name="client" value="default_frontend">
					<input type="hidden" name="output" value="xml_no_dtd">
					<input type="hidden" name="proxystylesheet" value="default_frontend">
				</form>
			</div>	 
 -->
		</div> 		
	</header>
	
		<div id="content" class="wrapper">	
			<div id="breadcrumb">
			<div id="breadcrumb-home"><a href="#"><img alt="home" src="template/img/home.png"></a>
				<div class="bread-drop"> 
					<a href="https://www.byu.edu">BYU Home</a>
					<!-- <a href="#">Organization Home</a> -->
					<!-- <a href="#">Two Pages Above</a>  -->
				</div>
			</div>
		â€º Service Dependency Map </div>
		
			<h1>Service Dependency Map</h1>
			<h2>OIT Platform Engineering</h2>		
            <br/>
            <p>This site is composed of a number of pieces.</p>
            <ul>
                <li>Logging rules are added to iptables to log successful established connections.</li>
                <li>Rsyslog filters out the tagged iptables logs so they don't fill local storage and forwards them to the rsyslog collector.</li>
                <li>The rsyslog listening daemon on the collector stores incoming messages in a MySQL database.</li>
                <li>A connection is composed of the source ip address, destination ip address, protocol, and destination port.</li>
                <li>An hourly job written in Python parses through all of the received logs and adds entries to a summary table when it comes across a connection that hasn't been logged before. If the connection has been recorded before, the last seen timestamp is updated from the latest log and the count incrememted. That means it's not possible to search a specific timeframe.</li>
                <li>The web application loads data from the database via Python CGI scripts, which also generate the graph in NetworkX and display it with D3.js.</li>
            </ul>
            <br/>
            <h3>Diagram</h3>
            <img src="images/architecture.png" width="100%">

            <br/>
            <br/>
	<footer>
		<div id="footer-bottom">
			<p><a href="https://byui.edu/">BYU-Idaho</a> <a href="https://byuh.edu/">BYU-Hawaii</a> <a href="https://www.ldsbc.edu/">LDS Business College</a> <a href="https://lds.org/">The Church of Jesus Christ of Latter-day Saints</a></p>
			<p><a href="https://home.byu.edu/home/copyright">Copyright&#169; 2015, All Rights Reserved</a></p>
		</div>
	</footer>
	<!--CONTENT END-->
	
	
	<script src="template/js/script.js"></script>
	<!--[if lt IE 7 ]>
	<script src="template/js/libs/dd_belatedpng.js"></script>
	<script> DD_belatedPNG.fix('.arrow a, header h1, #search-button');</script>
	<![endif]-->
</body>
</html>
